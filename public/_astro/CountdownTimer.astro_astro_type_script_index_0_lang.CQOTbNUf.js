const $={},a={};function m(e,t){try{const o=($[e]||=new Intl.DateTimeFormat("en-GB",{timeZone:e,hour:"numeric",timeZoneName:"longOffset"}).format)(t).split("GMT")[1]||"";return o in a?a[o]:g(o,o.split(":"))}catch{if(e in a)return a[e];const n=e?.match(Z);return n?g(e,n.slice(1)):NaN}}const Z=/([+-]\d\d):?(\d\d)?/;function g(e,t){const n=+t[0],o=+(t[1]||0);return a[e]=n>0?n*60+o:n*60-o}class r extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(m(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),w(this),p(this)):this.setTime(Date.now())}static tz(t,...n){return n.length?new r(...n,t):new r(Date.now(),t)}withTimeZone(t){return new r(+this,t)}getTimezoneOffset(){return-m(this.timeZone,this)}setTime(t){return Date.prototype.setTime.apply(this,arguments),p(this),+this}[Symbol.for("constructDateFrom")](t){return new r(+new Date(t),this.timeZone)}}const D=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!D.test(e))return;const t=e.replace(D,"$1UTC");r.prototype[t]&&(e.startsWith("get")?r.prototype[e]=function(){return this.internal[t]()}:(r.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),z(this),+this},r.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),p(this),+this}))});function p(e){e.internal.setTime(+e),e.internal.setUTCMinutes(e.internal.getUTCMinutes()-e.getTimezoneOffset())}function z(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),w(e)}function w(e){const t=m(e.timeZone,e),n=new Date(+e);n.setUTCHours(n.getUTCHours()-1);const o=-new Date(+e).getTimezoneOffset(),s=-new Date(+n).getTimezoneOffset(),i=o-s,l=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();i&&l&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+i);const f=o-t;f&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+f);const c=m(e.timeZone,e),U=-new Date(+e).getTimezoneOffset()-c,M=c!==t,T=U-f;if(M&&T){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+T);const O=m(e.timeZone,e),h=c-O;h&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+h),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+h))}}class u extends r{static tz(t,...n){return n.length?new u(...n,t):new u(Date.now(),t)}toISOString(){const[t,n,o]=this.tzComponents(),s=`${t}${n}:${o}`;return this.internal.toISOString().slice(0,-1)+s}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,n,o,s]=this.internal.toUTCString().split(" ");return`${t?.slice(0,-1)} ${o} ${n} ${s}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[n,o,s]=this.tzComponents();return`${t} GMT${n}${o}${s} (${F(this.timeZone,this)})`}toLocaleString(t,n){return Date.prototype.toLocaleString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleDateString(t,n){return Date.prototype.toLocaleDateString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleTimeString(t,n){return Date.prototype.toLocaleTimeString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),n=t>0?"-":"+",o=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),s=String(Math.abs(t)%60).padStart(2,"0");return[n,o,s]}withTimeZone(t){return new u(+this,t)}[Symbol.for("constructDateFrom")](t){return new u(+new Date(t),this.timeZone)}}function F(e,t){return new Intl.DateTimeFormat("en-GB",{timeZone:e,timeZoneName:"long"}).format(t).slice(12)}const S=Symbol.for("constructDateFrom");function I(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&S in e?e[S](t):e instanceof Date?new e.constructor(t):new Date(t)}function C(e,t){return I(e,e)}function b(e,t){return+C(e)-+C(t)}function H(e,t,n){const o=new u(e,t-1,n,23,59,59,"-12"),s=new u(Date.now(),"-12"),i=b(o,s);if(i<=0)return{days:0,hours:0,minutes:0,seconds:0};const l=Math.floor(i/(1e3*60*60*24)),f=Math.floor(i%(1e3*60*60*24)/(1e3*60*60)),c=Math.floor(i%(1e3*60*60)/(1e3*60)),y=Math.floor(i%(1e3*60)/1e3);return{days:l,hours:f,minutes:c,seconds:y}}class N extends HTMLElement{constructor(){super();const t=parseInt(this.dataset.year==null?"2025":this.dataset.year),n=parseInt(this.dataset.month==null?"4":this.dataset.month),o=parseInt(this.dataset.day==null?"29":this.dataset.day),s=this.querySelector(".days"),i=this.querySelector(".hours"),l=this.querySelector(".minutes");function f(){const c=H(t,n,o);s!=null&&(s.textContent=c.days.toString()),i!=null&&(i.textContent=c.hours.toString().padStart(2,"0")),l!=null&&(l.textContent=c.minutes.toString().padStart(2,"0"))}f(),setInterval(f,60*1e3)}}customElements.define("astro-countdown",N);
